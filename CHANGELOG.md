# Changelog - Seplitsa Info Bot

## v1.0-base-expert (4 –Ω–æ—è–±—Ä—è 2025)
### ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è "–ö–∞–∫ –≠–∫—Å–ø–µ—Ä—Ç"

**–†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
1. ‚úÖ –£–±—Ä–∞–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ" - –ø–æ–ª–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É
2. ‚úÖ –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ JSON –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫
3. ‚úÖ AI –¥–∞—ë—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–ª–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
4. ‚úÖ –ú–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `create_details_button()`
- –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ callback handlers –¥–ª—è inline –∫–Ω–æ–ø–æ–∫
- –£–¥–∞–ª—ë–Ω –∏–º–ø–æ—Ä—Ç `hashlib`
- –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π: `üìã **—Ç–µ–º–∞**\n\n{–ø–æ–ª–Ω—ã–π_—Ç–µ–∫—Å—Ç}`
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å "–∑–∞—Å—Ç—Ä—è–≤—à–∏–º–∏" offset –≤ getUpdates

**–§–∞–π–ª—ã:**
- Tag: `v1.0-base-expert`
- Commit: `b1e6dce`

---

## v1.1 (4 –Ω–æ—è–±—Ä—è 2025) - –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è
### üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —É—Ç–µ—Ä—è–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**
1. ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "typing"** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ typing –∫–∞–∂–¥—ã–µ 4 —Å–µ–∫—É–Ω–¥—ã
   - –†–∞–±–æ—Ç–∞–µ—Ç –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI (–¥–æ 60 —Å–µ–∫—É–Ω–¥)
   
2. ‚úÖ **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã AI** - –∞–Ω–∫–µ—Ç–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
   - –ü–æ–∫–∞ AI –¥—É–º–∞–µ—Ç, –±–æ—Ç —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI
   
3. ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ user_id –∏ –¥–∞–Ω–Ω—ã—Ö** - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –§–∞–π–ª: `/run/seplitsa-info-bot/data/seplitsa_info_user_data.json`
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `{user_id: {menus_visited, topics_read, current_rank, ...}}`
   - –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `threading`
- –§—É–Ω–∫—Ü–∏—è `ask_deepseek()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `chat_id`
- –ü–æ—Ç–æ–∫ `send_typing_periodically()` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `should_initiate_data_collection()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –î–û –≤—ã–∑–æ–≤–∞ AI

**–§–∞–π–ª—ã:**
- Commit: `e17ef39`

---

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
cd /home/ubuntu/seplitsa-bots
git pull origin main
sudo cp -r /home/ubuntu/seplitsa-bots/* /home/seplitsa/seplitsa-bots/
sudo chown -R seplitsa:seplitsa /home/seplitsa/seplitsa-bots/
sudo systemctl restart seplitsa-info-bot
sudo journalctl -u seplitsa-info-bot -f
```

### –û—Ç–∫–∞—Ç –Ω–∞ –±–∞–∑–æ–≤—É—é –≤–µ—Ä—Å–∏—é (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
```bash
cd /home/ubuntu/seplitsa-bots
git checkout v1.0-base-expert
# ... –∑–∞—Ç–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–µ–ø–ª–æ—è
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π:
```bash
git tag
git log --oneline --graph
```

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ:
- –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ JSON –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (61 –∑–∞–ø–∏—Å—å)
- AI –¥–∞—ë—Ç —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- –ú–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–∏–∫–∞–∫–∏—Ö "–∑–∞–≤–∏—Å–∞–Ω–∏–π" –Ω–∞ callback_query
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä typing –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±–æ—Ç–∞

### üìù –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ:
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π —á–µ—Ä–µ–∑ Telegram
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Sheets –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/home/seplitsa/seplitsa-bots/
‚îú‚îÄ‚îÄ bots/
‚îÇ   ‚îú‚îÄ‚îÄ info/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot.py              # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ info –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ expert/
‚îÇ       ‚îú‚îÄ‚îÄ bot.py              # –ö–æ–¥ expert –±–æ—Ç–∞ (—ç—Ç–∞–ª–æ–Ω)
‚îÇ       ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ seplitsa_info_knowledge.json  # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (61 –∑–∞–ø–∏—Å—å)
‚îÇ   ‚îî‚îÄ‚îÄ seplitsa_info_user_data.json  # –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh
‚îÇ   ‚îî‚îÄ‚îÄ skip_offset.py          # –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö offset
‚îî‚îÄ‚îÄ systemd/
    ‚îî‚îÄ‚îÄ seplitsa-info-bot.service.template
```

**RuntimeDirectory (—Å–æ–∑–¥–∞—ë—Ç—Å—è systemd):**
```
/run/seplitsa-info-bot/
‚îî‚îÄ‚îÄ data/
    ‚îú‚îÄ‚îÄ seplitsa_info_knowledge.json
    ‚îú‚îÄ‚îÄ seplitsa_info_user_data.json
    ‚îî‚îÄ‚îÄ seplitsa-credentials.json
```
